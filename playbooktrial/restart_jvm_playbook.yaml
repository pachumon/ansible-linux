#===================================================================================#
# this playbook stops and starts a JVM sever 
#===================================================================================#

---
- name: Execute specific command on server
  hosts: "{{ host }}"

  tasks:  
    - name: stop_JVM_server      
      command: echo wsadmin -lang jython -c "AdminControl.invoke( AdminControl.queryNames('type=Server,*') , 'stop')"
      notify:
      - start_JVM_server

    # - name: start the JVM server
    #   command: echo wsadmin -lang jython -c "AdminControl.invoke(AdminControl.queryNames('type=Server,*'), 'start')"
  
  handlers:
    - name: start_JVM_server
      command: echo wsadmin -lang jython -c "AdminControl.invoke(AdminControl.queryNames('type=Server,*'), 'start')"